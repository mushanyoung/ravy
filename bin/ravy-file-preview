#!/bin/sh

file="$(echo "$@" | sed "s#~#$HOME#")"
echo "$file"
echo

if test -d "$file"; then
  eza --icons --group-directories-first --git --color=always "$file"
elif test -f "$file"; then
  if file "$file" | grep -qE 'text|ASCII|UTF-8'; then
    bat --plain --color=always "$file"
  else
    echo "⚠️  Binary content detected, not displaying."
  fi
else
  echo ": does not exist"
fi
