#!/usr/bin/env sh
#
# docker compose wrapper
#
# If $RAVY_DOCKER_COMPOSE_CONFIG is set, use it as the compose file.
#
set -eu

if [ -n "${RAVY_DOCKER_COMPOSE_CONFIG:-}" ]; then
  if [ -f ./compose.yml ] || [ -f ./compose.yaml ] || [ -f ./docker-compose.yml ] || [ -f ./docker-compose.yaml ]; then
    exec docker compose "$@"
  else
    exec docker compose --file "$RAVY_DOCKER_COMPOSE_CONFIG" "$@"
  fi
else
  exec docker compose "$@"
fi

