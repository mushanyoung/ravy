{{- /* Common bash/zsh aliases + functions. */ -}}

history-stat() {
  history 2>/dev/null | awk '{print $1}' | sort | uniq -c | sort -n -r | head
}

# eza wrapper
ls() {
  if command -v eza >/dev/null 2>&1; then
    command eza --icons --group-directories-first --git --color "$@"
  else
    command ls "$@"
  fi
}

du() {
  if command -v gdu >/dev/null 2>&1; then
    command gdu "$@"
  else
    command du "$@"
  fi
}

# ---- aliases -----------------------------------------------------------------
alias l='ls -lg'
alias la='l -lA'
alias lt='l --tree'
alias lta='lt -A'
alias lat='lt -A'
alias ld='l -l --sort newest'
alias ldr='ld -r'
alias ldt='ld -A'
alias ldtr='ldt -r'
alias ll='ls -lg --no-permissions --no-user --no-time --bytes --git'

{{ template "ravy_aliases_common.tmpl" (dict "shell" "sh") }}

# shell-specific aliases (not in common list)
alias pdips='podman ps -a --format "table {{"{{"}}.Names{{"}}"}}\t{{"{{"}}.Networks{{"}}"}}\t{{"{{"}}.Ports{{"}}"}}" | column -t'
